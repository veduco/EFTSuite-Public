NAME
nfseg âˆ’ Segments a four finger plain impression into four individual fingers or removes white space from a
single finger rolled/plain impression isolating just the fingerprint portion of the image.

SYNOPSIS
nfseg <FGP> <BTHR_ADJ> <ROT_SEARCH> <COMP_SEG> <ROT_SEG> <file>

DESCRIPTION
Nfseg takes an four finger plain impression fingerprint image (FGP finger positions 13 "right hand", 14 "left hand", or 00 "Unknown Hand") and segments it into four individual fingerprint images. For single finger images (FGP 01-12) nfseg can be used to isolate the fingerprint in the image by removing white space around the fingerprint. The input image can be in ANSI/NIST format, WSQ compressed format, baseline JPEG, or lossless JPEG. Nfseg will output the results to WSQ compressed files (.wsq at 5:1 or 15:1 compression ratio), lossless JPEG (.jpl) or RAW pixel data (.raw). Nfseg can also rotate the segmented image to a vertical position or leave it in its original position. If the fingerprint is left in its original position all pixels in the image outside the fingerprint bounding box are set to white.
OPTIONS

<FGP>

indicates the finger position of the input image.

- 1-5 - right hand rolled impressions
- 6-10 - left hand rolled impressions
- 11 - right thumb plain impression
- 12 - left thumb plain impression
- 13 - right hand four finger plain impression (tend to be rotated left of vertical)
- 14 - left hand four finger plain impression (tend to be rotated right of vertical)
- 00 - unknown hand (for four finger plain impression will search all angles and make guess at hand based on rotation angle)

For segmentation purposes 1-12 are treated the same. Plain impressions 13-14 are treated similar the exception being the angles of rotation that are search for the four fingers. Unknow hand type 00 for four finger plain impression are searched over the whole range of angles used in both left and right hand images. The algorithm will make a guess at left or right hand based on the rotation
angle of the fingerprints.

<BTHR_ADJ>
Adjust binarization threshold to improve segmentation of low contrast images.

- 0 - No threshold adjustment.
- 1 - Adjust binarization threshold higher.

<ROT_SEARCH>
Allows user to search the image for rotated fingerprints (ie. 2" data) or assume the fingerprints are vertical (ie. 3" data).

- 0 - Assume fingerprints are not rotated.
- 1 - Assume fingerprints may be rotated in the image.

<COMP_SEG>
indicates the type of output image for the segmented images.

- 0 - Lossless JPEG
- 1 - WSQ 5:1
- 2 - WSQ 15:1
- 3 - RAW pixel data

<ROT_SEG>
indicates if output image is to be rotated to vertical position.

- 0 - Do not rotate
- 1 - Rotate to vertical

<file> the input file to be segmented.

NFSEG OUTPUT

For each output image, nfseg will print a line of text to standard output as follows:

<filname> -> <error flag> <sw> <sh> <sx> <sy> <theta>

- <filename> the name of the segmented output file.
- <error flag> a flag set if the segmented image does not meet certain minimum requirements.
--- 0 - no errors
--- 1 - segmented image width is less than "FING_WIDTH_MIN" parameter in nfseg.h
--- 2 - segmented image height is less than "FING_HEIGHT_MIN" parameter in nfseg.h
--- 3 - spacing between adjacent fingers was less than "FING_SPACE_MIN" parameter in nfseg.h
--- 4 - spacing between adjacent fingers was more than "FING_SPACE_MAX" parameter  in nfseg.h

Error flags 3 and 4 usually indicate the image did not segment correctly.

<sw> <sh>
the width and height of the segmented image file

<sx> <sy>
where the center of the segmented image was located at in the original four finger plain imression image.

<theta>
rotation angle of the fingers in the four finger plain impression image, positive values are left of vertical and negative values are right.

EXAMPLES
From test/nfseg/execs/nfseg/nfseg.src:

% nfseg 13 1 1 1 0 a011_13.wsq
- Segments the image into four single finger plain images.
- Creates the output files:
--- a011_13_0[2-5].wsq